H0: существует положительная линейная взаимосвязь между частотностью выделенных нами запросов в wordstat за день и количеством обращений с органики
H1: взаимосвязь между частотностью выделенных нами запросов в wordstat за день и количеством обращений с органики отсутствует
Для проверки H0 нам необходимо вычислить коэффициент корреляции между ежедневным количеством запросов в wordstat по каждому бренду и ежедневному количеству обращений по бренду
Пподключаемся к PostgreSQL и создаём DataFrame. На этом этапе выяснилось, что данные хранятся не в таблице wordstat.communications, как указано в задании, а в wordstat_data.communications.
Проверяем, какие есть брэнды и источники трафика.
Добавляем столбец с датой.
Фильтруем DataFrame по органическому трафику и августу месяцу.
Создаём для каждого брэнда свой DataFrame cо cгруппированными по дням обращениями.
Строим гистограммы частот обращений для каждого брэнда.
Создаём для каждого брэнда свой DataFrame cо cгруппированными по дням показа по всем фразам.
Строим гистограммы частот показов для каждого брендов.
Формируем общий датасет для брендов, соединяя данные из таблицы обращений на сервере PostgreSQL с данными из файла csv.
Строим диаграммы рассеяния показов и обращений для каждого брэнда.
Вычисляем коэффициент корреляции для каждого бренда.
Коэффициент корреляции для бренда 0 = -0.18
Коэффициент корреляции для бренда 1 = 0.04


Гипотеза H0 опровергнута, т.к. коэффициент корреляции для бренда 0 отрицательный, а для бренда 1 меньше 0,05.
Что дальше?
Не все поисковые фразы являются конверсионными. Необходимо построить корреляционную матрицу 30 поисковых фраз и обращений.
Возможно, мы увидим корреляцию с конкретной фразой.

В таблице phrases_shows.csv присутствуют высокочастотные фразы с частотностью больше 500. Можно исключить их и перепроверить гипотезу H0. 

Wordstat показывает количество запросов только для Яндекса. Обращения же из органики могут идти как с Яндекса, так и с Google.
В таблице communications необходимо добавить столбец source и начать указывать в нём реферер. Так мы поймём, с какой поисковой системы пришло обращение.
Затем можно будет перепроверить гипотезу H0, принимая во внимания только обращения из Яндекс.

Более того, мы можем добавить в таблицу communications столбец keyword, в который записывать фразу, по которой перешёл клиент из поиска и с помощью динамического коллтреккинга привязывать поисковую фразу к конкретному обращению.
